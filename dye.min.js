/** dye.js v0.3 - minified - 2023 - MIT LICENSE - Tiago GalvÃ£o - https://deviago.me */
const checkColor=(e,t=!1,r={})=>{let l=0,a=0,o=0,g;if(e.startsWith("rgb("))return(l=(splittedColor=e.substr(4,e.length-5).split(", "))[0],a=splittedColor[1],o=splittedColor[2],g=Math.round((299*parseInt(l)+587*parseInt(a)+114*parseInt(o))/1e3),t)?r.blackimg?g>125?"":"grayscale(1) invert(1)":g>125?"grayscale(1) invert(1)":"":g>125?"rgb(0,0,0)":"rgb(255,255,255)";if(e.startsWith("rgba(")){let c=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(,\s*\d+\.*\d+)?\)$/,n=e.match(c),s=Math.round((299*parseInt(n[1])+587*parseInt(n[2])+114*parseInt(n[3]))/1e3);var $="";if(n[4])var $=n[4].replace(", ","");return s>125||.5>parseFloat($)?"rgb(0,0,0)":"rgb(255,255,255)"}},getParentBG=(e,t=!1)=>{let r,l=e=>window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue("background-color"):e.style.backgroundColor;return r=t?l(document.querySelector(t)):l(e)},dye=()=>{document.querySelectorAll("[dye]").forEach(e=>{let t=e.attributes.dye.value,r;if("self"===t||""===t){let l;"IMG"!==e.tagName&&("rgba(0, 0, 0, 0)"===(l=getParentBG(e))&&(l=getParentBG(e.parentElement),r=checkColor(l)),r=checkColor(l)),"IMG"===e.tagName&&(r=checkColor(getParentBG(e.parentElement),!0,e.attributes),e.style.filter=r,e.style.webkitFilter=r)}else"IMG"===e.tagName?(r=checkColor(getParentBG(null,t),!0),e.style.filter=r,e.style.webkitFilter=r):(bg=getParentBG(null,t),r=checkColor(bg));e.style.color=r})};dye();